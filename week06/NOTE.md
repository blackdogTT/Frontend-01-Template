# 第六周学习总结

#### 有限状态机

- 每一个状态都是一个机器
- 每一个机器知道下一个状态
- 代码实现为每个机器是一个纯函数，根据当前状态及入参，决定返回下一个状态

#### 浏览器工作原理

![Image text](https://tva1.sinaimg.cn/large/007S8ZIlgy1gfn70rq5f1j31cm08zgmu.jpg)

#### html的解析

1. 拆分文件
2. 创建状态机
3. 解析标签
4. 创建元素
5. 处理属性
6. 构建dom树：使用栈来处理标签开始和闭合，保证父子关系
7. 处理文本节点

#### Css的解析

1. 收集css规则，引入css库将css文本转为ast
2. 添加调用，创建元素后立即计算css
3. 获取父元素序列
4. 拆分选择器
5. match函数计算当前元素是否匹配规则
6. 生成computeStyle
7. 确定规则覆盖关系，四元组specificity比较